<html>
<head>
    <link rel="stylesheet" href="style.css">
</head>
<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>
  <!-- <script src="js/models.js"></script>
  <script src="js/userState.js"></script>
  <script src="js/interaction.js"></script> -->
<body style='margin : 0px; overflow: hidden;'>
   <div></div>
	<a-scene embedded arjs>
		

    <!-- handle marker with lights -->
    <a-marker type='pattern' url='markers/pattern-lights_megacrop.patt'>
      <a-cylinder position="0 0 0.5" radius="0.5" height="1.5" material="opacity: 0.7;" color="#FFC65D" soundhandler></a-cylinder>
    </a-marker> 
    
    <!-- sounds -->
    <a-assets>
      <audio id="sound" src="audio/flamingo_full.mp3" preload="auto"></audio>
    </a-assets>

    <!-- handle marker with kanji-->
    <a-marker preset='kanji'>
      <!-- <a-cylinder position="0 0 0.5" radius="0.3" height="1.2" color="red"></a-cylinder> -->
      <a-box position='0 0.5 0' material='color: black;'> </a-box>
    </a-marker> 


     <!-- handle marker with hiro -->
     <a-marker preset='hiro'>
     <a-image src="images/fish.jpg" rotation = "90, 180, 0" scale = "3 2.25 2.25" position="0 0 -1"></a-image> 
      <a-text value="Hello there!!!" position="0 0 0.5" color="red" align="center"  rotation="-89 0 0" text="width:3;wrapCount:20"></a-text>
    </a-marker> 
   
     <!-- handle marker with fork -->
     <a-marker type='pattern' url='markers/pattern-fork-01.patt'> 
       <a-text value="I'm hungry!!!!" position="0 0 0.5" color="blue" align="center"  rotation="-89 0 0" text="width:3;wrapCount:20"></a-text>
     </a-marker> 

     <!-- add the sound -->
     <a-entity sound="src: #sound" autoplay="false"></a-entity>

    <!-- add a simple camera -->
     <a-entity camera></a-entity> 
 	</a-scene>

   <script>
    AFRAME.registerComponent('soundhandler', {
        tick: function () {
               var entity = document.querySelector('[sound]');
             if (document.querySelector('a-marker').object3D.visible == true) {
                entity.components.sound.playSound();
            } else {
                entity.components.sound.pauseSound();
            }
    
         }
    });
    </script>

</body>
</html>
